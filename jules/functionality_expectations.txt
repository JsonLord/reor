### **Functionality Expectations of the Deployed Application**

1. **Core LLM Functionality**
   - Retain the original app’s language generation capabilities (e.g., prompt processing, text completion).
   - Support OpenAI-compatible parameters (e.g., `prompt`, `temperature`, `max_tokens`).

2. **API-Driven Management**
   - Expose the following endpoints for external interaction:
     - **`POST /api/generate`**: Generate text using the Helmholtz BLABLADOR API (requires `BLABLADOR_API_KEY`).
     - **`GET /api/model`**: Return model metadata (e.g., `alias: large`).
     - **`GET /api/health`**: Health check endpoint (no auth).
   - **Authentication**: API endpoints (except health/model) may require API key validation.

3. **Hugging Face Spaces Integration**
   - **UI Accessibility**: Gradio interface available at:
     `https://harvesthealth-magnetic-ui.hf.space` (port `7860`).
   - **API Accessibility**: External APIs accessible via the same domain:
     `https://harvesthealth-magnetic-ui.hf.space/api/{endpoint}`.
   - **Reverse Proxy Forwarding**: Hugging Face Spaces handles routing to internal ports (e.g., `7860`).

4. **Security & Environment Handling**
   - Load `BLABLADOR_API_KEY` securely from Hugging Face Space environment variables.
   - Validate API keys and rate-limit endpoints to prevent abuse.

5. **OpenAI-Compatible LLM Endpoint**
   - Replace OpenAI API calls with Helmholtz BLABLADOR API (`api.helmholtz-blablador.fz-juelich.de/v1`).
   - Use model alias `large` for backend requests.

6. **Deployment Constraints**
   - **Main Port**: `7860` (Gradio default).
   - **Docker-Based Deployment**: Adopt Hugging Face Spaces’ Docker template with exposed port `7860`.
   - **Forwarding System**: Ensure external requests to `/api/*` are routed to the backend.

7. **Future Extensibility**
   - Support for additional OpenAI-compatible APIs (e.g., Azure OpenAI, local models).
   - Plugin system for custom LLM backends.